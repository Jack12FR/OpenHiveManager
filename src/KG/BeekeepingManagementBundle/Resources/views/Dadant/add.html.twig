{# src/KG/BeekeepingManagementBundle/Resources/views/Ruche/Dadant/add.html.twig #}

{% extends "KGBeekeepingManagementBundle::layout.html.twig" %}

{% block stylesheets %}
    {{ parent() }}
    {% stylesheets filter='cssrewrite' 'css/bootstrap_switch/bootstrap-switch.css' %}
        <link rel="stylesheet" href="{{ asset_url }}" type="text/css">
    {% endstylesheets %}  
    {{ form_stylesheet(form) }}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {% javascripts 'js/bootstrap_switch/bootstrap-switch.js'
                    '@KGBeekeepingManagementBundle/Resources/public/js/colonie/add.js'%}
        <script src="{{ asset_url }}" type="text/javascript"></script>  
    {% endjavascripts %}
    {{ form_javascript(form) }}
{% endblock %}

{% block ruchers %}{{ emplacement.rucher.nom }}{% endblock %}

{% block title %}{{ parent() }} - Créer une ruche{% endblock %}

{% form_theme form "KGBeekeepingManagementBundle::form_layout.html.twig" %}

{% block panel_title %}
    <div class="row">
        <div class="col-xs-12">
            <h4>Création d'une colonie</h4>
        </div>
    </div>
{% endblock %}

{% block form_error %}   
    {{ form_errors(form.nom) }}
    {{ form_errors(form.matiere) }}
    {{ form_errors(form.corps.nbmaxcadres) }}
    {{ form_errors(form.image.file) }}
    {{ form_errors(form) }}  
{% endblock %}
    
{% block panel_body %}
              
    {{ form_start(form, {'attr': {'class': 'form-horizontal'}}) }}
    <div class="alert alert-warning alert-dismissible" role="alert">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      Dans cette version de l'application, seule les ruches de type Dadant peuvent être créées. Il faudra attendre les prochaines versions pour les autres types.
    </div> 
        
    <fieldset> 

        <legend>Ruche</legend>            
        <div class="form-group">
            {{ form_label(form.nom, "Nom de la ruche :", {'label_attr': {'class': 'col-sm-5 col-md-4 control-label'}}) }}
            <div class="col-sm-5 col-md-5">
                {{ form_widget(form.nom, {'attr': {'class': 'form-control'}}) }}
            </div>  
        </div> 

        <div class="form-group">
            {{ form_label(form.matiere, "Matière :", {'label_attr': {'class': 'col-sm-5 col-md-4 control-label'}}) }}
            <div class="col-sm-5 col-md-5">
                {{ form_widget(form.matiere, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div> 

        <div class="form-group">
            {{ form_label(form.corps.nbmaxcadres, "Nombre de cadres :", {'label_attr': {'class': 'col-sm-5 col-md-4 control-label'}}) }}
            <div class="col-sm-5 col-md-5">
                {{ form_widget(form.corps.nbmaxcadres, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>  

        <div class="form-group">
            {{ form_label(form.image.file, "Photo :", {'label_attr': {'class': 'col-sm-5 col-md-4 control-label'}}) }}
            <div class="col-sm-2 col-md-2">
                {{ form_widget(form.image.file) }}
            </div>
        </div>

    </fieldset>

    <fieldset>

        <legend>Colonie</legend>

        <div class="form-group">
            {{ form_label(form.colonie.origineColonie, "Origine :", {'label_attr': {'class': 'col-sm-5 col-md-4 control-label'}}) }}
            <div class="col-sm-5 col-md-5">
                {{ form_widget(form.colonie.origineColonie, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>   
            
        <div class="form-group">
            {{ form_label(form.colonie.provenance, "Provenance :", {'label_attr': {'class': 'col-sm-5 col-md-4 control-label'}}) }}
            <div class="col-sm-5 col-md-5">
                {{ form_widget(form.colonie.provenance, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>     

        <div class="form-group">
            {{ form_label(form.colonie.dateColonie, "Date de naissance :", {'label_attr': {'class': 'col-sm-5 col-md-4 control-label'}}) }}
            <div class="col-sm-5 col-md-5">
                {{ form_widget(form.colonie.dateColonie, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div> 
            
        <div class="form-group">
            {{ form_label(form.colonie.affectation, "Affectation :", {'label_attr': {'class': 'col-sm-5 col-md-4 control-label'}}) }}
            <div class="col-sm-5 col-md-5">
                {{ form_widget(form.colonie.affectation, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>        

        <div class="form-group">
            {{ form_label(form.colonie.etat, "Etat :", {'label_attr': {'class': 'col-sm-5 col-md-4 control-label'}}) }}
            <div class="col-sm-5 col-md-5">
                {{ form_widget(form.colonie.etat, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>                      

        <div class="form-group">
            {{ form_label(form.colonie.agressivite, "Agressivité :", {'label_attr': {'class': 'col-sm-5 col-md-4 control-label'}}) }}
            <div class="col-sm-5 col-md-5">
                {{ form_widget(form.colonie.agressivite, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>                                

        <div class="form-group">
            {{ form_label(form.colonie.reine.race, "Race :", {'label_attr': {'class': 'col-sm-5 col-md-4 control-label'}}) }}
            <div class="col-sm-5 col-md-5">
                {{ form_widget(form.colonie.reine.race, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>  

        <div class="form-group">
            {{ form_label(form.colonie.reine.anneeReine, "Année :", {'label_attr': {'class': 'col-sm-5 col-md-4 control-label'}}) }}
            <div class="col-sm-5 col-md-5">
                {{ form_widget(form.colonie.reine.anneeReine, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>    

        <div class="form-group">
            {{ form_label(form.colonie.reine.provenanceReine, "Provenance :", {'label_attr': {'class': 'col-sm-5 col-md-4 control-label'}}) }}
            <div class="col-sm-5 col-md-5">
                {{ form_widget(form.colonie.reine.provenanceReine, {'attr': {'class': 'form-control'}}) }}
            </div>
        </div>    

        <div class="form-group">
            <label class="col-sm-5 col-md-4 control-label" for="checkboxes">Marquage :</label>
            <div class="col-sm-5 col-md-5">
              {{ form_widget(form.colonie.reine.marquage, {'attr': {'class': 'form-control', 'data-on-text': "Oui", 'data-off-text': 'Non'}}) }}
            </div>
        </div>     

        <div class="form-group">
            <label class="col-sm-5 col-md-4 control-label" for="checkboxes">Clippage :</label>
            <div class="col-sm-5 col-md-5">
              {{ form_widget(form.colonie.reine.clippage, {'attr': {'class': 'form-control', 'data-on-text': "Oui", 'data-off-text': 'Non'}}) }}
            </div>
        </div>               
    </fieldset>

    {{ form_rest(form) }}

    <div class="form-group">
        <div class="col-md-offset-1 col-md-10">
            <div class="pull-right">
                <a href="{{ app.request.headers.get('referer') }}" class="btn btn-default">
                    <i class="glyphicon glyphicon-remove"></i>
                    Annuler
                </a>

                <button type="submit" class="btn btn-primary">
                    <i class="glyphicon glyphicon-floppy-disk"></i>
                    Sauvegarder
                </button>
            </div>
        </div>        
    </div>

    {{ form_end(form) }}         

{% endblock %}